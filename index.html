<!doctype html>
<html>
  <head>
    <title>Task Manager</title>
    <link rel="stylesheet" href="./src/style.css" />
  </head>
  <body>
    <div class="app-container">
      <div class="content-container">
        <h1>Task Manager</h1>
        <button id="toggleHeader" onclick="toggleHeader()">â˜°</button>
        <header id="header">
          <button onclick="toggleTheme()">Change theme</button>
          <div id="statsContainer"></div>
          <div id="optionsContainer"></div>
        </header>
        <div id="filtersContainer"></div>
        <div class="input-container">
          <input
            class="task-input"
            id="taskInput"
            type="text"
            placeholder="Add a task..."
          />
          <button id="addTaskBtn">Add</button>
        </div>
        <div class="tasks-container">
          <ul id="taskList" class="task-list"></ul>
        </div>
      </div>
    </div>

    <script src="src/index.js" type="module"></script>
    <script>
      let index = 0;
      let hidden = false;
      const toggleTheme = () => {
        const root = document.documentElement;
        const themes = ["nord", "nord-light", "dark", "plain"]
        const newTheme = themes[index % themes.length];
        root.setAttribute("data-theme", newTheme);
        localStorage.setItem("theme", newTheme);
        index++;
      };

      const savedTheme = localStorage.getItem("theme");
      if (savedTheme) {
        document.documentElement.setAttribute("data-theme", savedTheme);
      } else {
        document.documentElement.setAttribute("data-theme", nord);
      }

      const toggleHeader = () => {
        hidden = !hidden;
        const header = document.querySelector("#header");
        if (hidden) {
          header.style.display = "none";
        }  else {
          header.style.display = "flex";
        }
      }
    </script>
  </body>
</html>
